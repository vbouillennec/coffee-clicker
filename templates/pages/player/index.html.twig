{% extends 'base.html.twig' %}

{% block title %}Coffee Clicker - Players
{% endblock %}

{% block body %}

	<div class="flex flex-col items-center align-center justify-center text-white">
		<div class="w-full md:w-3/4 lg:w-2/3 xl:w-1/2 p-4 space-y-4">
			{% for message in app.flashes('success') %}
				<div class="p-4 mb-4 text-sm rounded-lg bg-gray-800 text-green-400" role="alert">
					<span class="font-medium">{{ message }}</span>
				</div>
			{% endfor %}
			<div class="flex justify-between align-middle items-center">
				<h1 class="py-2 font-semibold text-2xl">Players leaderboard ({{ players.getTotalItemCount }})
				</h1>
				<a class="text-white bg-gradient-to-br from-amber-600 to-orange-900  hover:from-amber-700 hover:to-orange-950 focus:ring-4 focus:outline-none focus:ring-amber-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center" href="{{ path('player.new') }}">
					Create a player
				</a>
			</div>

			<ul class="divide-y divide-gray-700">
				{% for player in players %}
					<li>
						<a href="{{ path('player.edit', {'id': player.id}) }}" class="flex items-center space-x-4 hover:bg-gray-800 p-2">
							<div class="inline-flex items-center text-base font-semibold text-white">
								{{ (app.request.query.get('page')|default('1') - 1) * 10 + loop.index }}
							</div>
							<div class="flex-1 min-w-0">
								<p class="text-sm font-medium truncate text-white">
									{{ player.pseudo }}
								</p>
								<p class="text-sm truncate text-gray-400">
									{{ player.email }}
								</p>
							</div>
							<div class="inline-flex items-center text-base font-semibold text-white">
								{{ player.totalPoints }}
								points
							</div>
						</a>
					</li>
				{% endfor %}
			</ul>
			<div class="navigation flex justify-center pb-6">
				{{ knp_pagination_render(players) }}
			</div>
		</div>
	</div>
{% endblock %}
